<!DOCTYPE html><html><head><link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldui/ldui.min.css"></head><body><div class="w-640 mx-auto rwd"><div class="p-4"><div class="row"><div class="col-md-4"><div class="d-flex align-items-center mb-2"><label class="flex-grow-1 mb-0">Ctrl</label><div class="btn btn-sm" style="opacity:0">&nbsp;</div></div><div class="form-group mb-4"><div class="btn btn-outline-secondary btn-sm btn-block" ld="random-content">Random Content</div><div class="btn btn-outline-secondary btn-sm btn-block" ld="clear">Clear Selection</div></div><div class="form-group mb-4"><label>Selection</label><div class="bg-light rounded p-2" ld="output"></div></div></div><div class="col-md-8"><div class="form-group mb-4"><div class="d-flex align-items-center mb-2"><label class="flex-grow-1 mb-0">Textarea</label><div class="btn btn-sm btn-outline-secondary ml-4" ld="random" data-value="0">random</div></div><textarea class="form-control shadow-sm" ld="caret">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500</textarea></div><div class="form-group mb-4"><div class="d-flex align-items-center mb-2"><label class="flex-grow-1 mb-0">Input</label><div class="btn btn-sm btn-outline-secondary ml-4" ld="random" data-value="1">random</div></div><input class="form-control shadow-sm" ld="caret" value="Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500"></div><div class="form-group mb-4"><div class="d-flex align-items-center mb-2"><label class="flex-grow-1 mb-0">Plain Text</label><div class="btn btn-sm btn-outline-secondary ml-4" ld="random" data-value="2">random</div></div><div class="card mb-4 shadow-sm"><div class="card-body" ld="caret">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500</div></div></div><div class="form-group mb-4"><div class="d-flex align-items-center mb-2"><label class="flex-grow-1 mb-0">Plain Text ( Multi-Paragraph )</label><div class="btn btn-sm btn-outline-secondary ml-4" ld="random" data-value="3">random</div></div><div class="card mb-4 shadow-sm"><div class="card-body" ld="caret"><p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ips</p><p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. </p><p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has</p></div></div></div></div></div></div></div><script type="text/javascript" src="/assets/lib/ldui/ldui.min.js"></script><script type="text/javascript" src="/assets/lib/ldcaret.min.js"></script><script>// Generated by LiveScript 1.3.1
var randPos, view;
randPos = function(n){
  if (n.nodeType !== 1) {
    return [n, Math.floor(n.textContent.length * Math.random())];
  }
  return randPos(n.childNodes[Math.floor(n.childNodes.length * Math.random())]);
};
view = new ldView({
  root: document,
  handler: {
    output: function(arg$){
      var node, obj, content;
      node = arg$.node;
      obj = ldCaret.get();
      content = ldCaret.getContent();
      if (!obj.ns) {
        return node.textContent = "";
      }
      return node.innerHTML = obj.os + " - " + obj.oe + "<br>" + content;
    }
  },
  action: {
    click: {
      clear: debounce(2000, function(){
        return ldCaret.clear();
      }),
      "random-content": debounce(2000, function(){
        return ldCaret.setContent('12345');
      }),
      caret: function(arg$){
        var node, evt;
        node = arg$.node, evt = arg$.evt;
        return view.render(['output']);
      },
      random: function(arg$){
        var node, idx, ns, ne, text, os, oe, ref$;
        node = arg$.node;
        idx = +node.getAttribute('data-value');
        node = ns = ne = view.getAll('caret')[idx];
        if (node.setSelectionRange) {
          text = node.value;
          os = Math.floor(text.length * (Math.random() * 0.5));
          oe = Math.ceil(text.length * (Math.random() * 0.5 + 0.5));
        } else {
          ns = node.childNodes[Math.floor(node.childNodes.length * (Math.random() * 0.5))];
          ne = node.childNodes[Math.floor(node.childNodes.length * (Math.random() * 0.5 + 0.5))];
          ref$ = randPos(ns), ns = ref$[0], os = ref$[1];
          ref$ = randPos(ne), ne = ref$[0], oe = ref$[1];
          if (ns === ne) {
            if (os > oe) {
              os = oe - 1;
            }
          }
        }
        ldCaret.set({
          ns: ns,
          ne: ne,
          os: os,
          oe: oe
        });
        return view.render(['output']);
      }
    }
  }
});</script></body></html>